{"version":3,"sources":["components/app-header/shopping-cart-solid.svg","components/app/food-bg.jpg","components/menu-list-item/index.js","components/menu-list-item/menu-list-item.js","components/resto-service-context/index.js","components/resto-service-context/resto-service-context.js","components/hoc/index.js","components/hoc/with-resto-service.js","actions/index.js","components/spinner/index.js","components/spinner/spinner.js","components/menu-list/menu-list.js","components/menu-list/index.js","components/pages/main-page.js","components/cart-table/cart-table.js","components/cart-table/index.js","components/pages/cart-page.js","components/pages/item-page.js","components/app-header/index.js","components/app-header/app-header.js","components/app/index.js","components/app/app.js","components/error/index.js","components/error/error.js","components/error-boundry/error-boundry.js","components/error-boundry/index.js","reducers/index.js","store.js","index.js","services/resto-service.js"],"names":["module","exports","__webpack_require__","p","MenuListItem","_ref","menuItem","onAddToCart","title","price","url","category","react_default","a","createElement","className","react_router_dom","to","concat","id","src","alt","onClick","RestoServiceContext","React","createContext","WithRestoService","Wrapped","props","components_resto_service_context","Consumer","RestoService","Object","assign","menuLoaded","newMenu","type","payload","menuRequested","menuRejected","addedToCart","changeCount","event","Spinner","MenuList","_this","this","getMenuItems","then","res","catch","error","console","log","status","_this$props","menuItems","loading","components_spinner","items","map","components_menu_list_item","key","menu_list_View","Component","mapDispatchToProps","View","connect","state","menu","MainPage","components_menu_list","generateOrder","item","qtty","delFromCart","CartTable","_ref2","totalPrice","length","Fragment","setOrder","CartPage","components_cart_table","ItemPage","_this2","find","el","match","params","AppHeader","cartIcon","App","style","background","Background","components_app_header","react_router","path","exact","component","Error","ErrorBoundry","components_error","children","initialState","reducer","arguments","undefined","action","objectSpread","itemIdx","findIndex","itemInState","newItem","toConsumableArray","slice","idx","itemIndex","target","targetId","classList","contains","targetIdx","store","createStore","restoService","classCallCheck","getResource","asyncToGenerator","regenerator_default","mark","_callee","wrap","_context","prev","next","fetch","_dataBase","sent","ok","json","abrupt","stop","_x","apply","_callee2","_context2","_ref3","_callee3","orderData","ordNumber","newOrder","response","_context3","getOrderNum","order","method","headers","Content-Type","body","JSON","stringify","_x2","_callee4","_context4","ReactDOM","render","es","components_error_boundry","Provider","value","components_app","document","getElementById"],"mappings":"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","file":"static/js/main.c6484326.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/shopping-cart-solid.701d6d1d.svg\";","module.exports = __webpack_public_path__ + \"static/media/food-bg.698e5e80.jpg\";","import MenuListItem from './menu-list-item';\nexport default MenuListItem;","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport './menu-list-item.scss';\n\nconst MenuListItem = ({menuItem, onAddToCart}) => {\n    const {title, price, url, category} = menuItem;\n    return (\n        \n            <li className=\"menu__item\">\n                <Link to = {`/${menuItem.id}`}>\n                    <div className=\"menu__title\">{title}</div>\n                    <img className=\"menu__img\" src={url} alt={title}></img>\n                    <div className=\"menu__category\">Category: <span>{category}</span></div>\n                    <div className=\"menu__price\">Price: <span>{price}$</span></div>\n                  \n                </Link>\n                <button onClick={()=> onAddToCart()} className=\"menu__btn\">Add to cart</button>\n                    <span className = {`menu__category_Img ${category}`}></span>\n            </li>\n      \n    )\n}\n\nexport default MenuListItem;","import RestoServiceContext from './resto-service-context';\n\nexport default RestoServiceContext;","import React from 'react';\n\nconst RestoServiceContext = React.createContext();\n\nexport default RestoServiceContext;\n","import WithRestoService from './with-resto-service';\n\nexport default WithRestoService;","import React from 'react';\nimport RestoServiceContext from '../resto-service-context';\n\nconst WithRestoService = () => (Wrapped) => {\n    return (props) => {\n        return (\n            <RestoServiceContext.Consumer>\n                {\n                    (RestoService) => {\n                        return <Wrapped {...props} RestoService={RestoService}/>\n                    }\n                }\n            </RestoServiceContext.Consumer>\n        );\n    };\n};\n\nexport default WithRestoService;","const menuLoaded = (newMenu) => {\n    return {\n        type: 'MENU_LOADED', \n        payload: newMenu\n    };\n};\n\nconst menuRequested = () => {\n    return {\n        type: 'MENU_REQUESTED',\n    };\n};\n\nconst menuRejected = () => {\n    return {\n        type: 'MENU_REJECTED',\n    };\n};\n\nconst addedToCart = (id) => {\n    return {\n        type: 'ITEM_ADD_TO_CART',\n        payload: id\n    };\n};\n\nconst delFromCart = (id) => {\n    return {\n        type: 'ITEM_REMOVE_FROM_CART',\n        payload: id\n    };\n};\n\nconst changeCount = (event, id) => {\n    return {\n        type: 'ITEM_CHANGE_COUNT',\n        payload: id,\n        event\n    }\n}\n\nexport {\n    menuLoaded,\n    menuRequested,\n    menuRejected,\n    addedToCart,\n    delFromCart,\n    changeCount\n};","import Spinner from './spinner';\n\nexport default Spinner;","import React from 'react';\n\nconst Spinner = () => {\n    return <div className=\"spinner\">loading...</div>\n}\n\nexport default Spinner;","import React, {Component} from 'react';\nimport MenuListItem from '../menu-list-item';\nimport {connect} from 'react-redux';\nimport WithRestoService from '../hoc';\nimport {menuLoaded, menuRequested, menuRejected, addedToCart, changeCount} from '../../actions';\nimport Spinner from '../spinner';\n\nimport './menu-list.scss';\n\nclass MenuList extends Component {\n    componentDidMount() {\n        this.props.menuRequested();\n\n        const {RestoService} = this.props;\n        RestoService.getMenuItems()\n            .then(res => this.props.menuLoaded(res))\n            .catch(error => console.log(` ${error}, status: ${error.status}`));\n    }\n    render() {\n        const {menuItems, loading, addedToCart} = this.props;\n        if (loading) {\n            return <Spinner/>\n        }\n\n        const items = menuItems.map(menuItem => {\n            return   <MenuListItem key={menuItem.id} menuItem = {menuItem}\n                onAddToCart={() => addedToCart(menuItem.id)}/>\n        });\n\n        return (\n           <View items = {items} />\n        )\n    }\n};\n\nconst mapStateToProps = (state) => {\n    return {\n        menuItems: state.menu,\n        loading: state.loading,\n        error: state.error\n    }\n};\n\nconst mapDispatchToProps =  {\n    menuLoaded,\n    menuRequested,\n    menuRejected,\n    addedToCart,\n    changeCount\n};\n\nconst View = ({items}) => {\n    return (\n        <ul className=\"menu__list\">\n        {items}\n         </ul>\n    )\n};\nexport default WithRestoService()(connect(mapStateToProps, mapDispatchToProps)(MenuList));","import MenuList from './menu-list';\nexport default MenuList;","import React from 'react';\nimport MenuList from '../menu-list';\n\nconst MainPage = () => {\n    return (\n        <MenuList/>\n    )\n}\n\nexport default MainPage;\n","import React from 'react';\nimport './cart-table.scss';\nimport {connect} from 'react-redux';\nimport WithRestoService from '../hoc';\nimport {delFromCart, changeCount} from '../../actions';\n\nconst CartTable = ({items, delFromCart, changeCount, totalPrice, RestoService}) => {\n    if (items.length === 0) {\n        return (\n            <>\n            <div className=\"cart__title\">Your basket is empty</div>\n            <div className=\"cart__message\">Rather, order something delicious!</div>\n            </>\n        )\n    }\n    return (\n        <>\n            <div className=\"cart__title\">Your order:</div>\n            <div className=\"cart__list\">\n                {\n                    items.map(item => {\n                        const {title, price, url, id, qtty} = item;\n                        return (  \n                            <div key={id} className=\"cart__item\">\n                                <img src={url} className=\"cart__item-img\" alt={title}></img>\n                                <div className=\"cart__item-title\">{title}</div>\n                                <div className=\"cart__item-price\">{price}$</div>\n                                    <div className=\"food-counter\">\n                                        <button className=\"counter-button counter-minus\"\n                                         onClick={(event) => changeCount(event, id)}>-</button> \n                                        <span className=\"counter\">{qtty}</span>\n                                        <button className=\"counter-button counter-plus\"\n                                         onClick={(event) => changeCount(event, id)}>+</button>\n                                    </div>\n                                <div onClick={() => delFromCart(id)} className=\"cart__close\">&times;</div>\n                            </div>\n                        )\n                    })\n                }\n                <div className=\"cart__order_box\">\n                    <div className=\"cart__order_box-title\">Total: </div>\n                    <div className=\"cart__order_box-total\">{totalPrice}$</div>\n                    <button\n                    onClick = {() => {RestoService.setOrder( generateOrder(items) )}}\n                     className=\"cart__order_box-btn\">Proceed to checkout</button>\n                </div>\n               \n            </div>\n        </>\n    );\n};\n\nconst generateOrder = (items) => {\n    const newOrder = items.map(item => {\n        return {\n            id: item.id,\n            qtty: item.qtty\n        }\n    })\n    return newOrder;\n}\n\nconst mapStateToProps = ({items, totalPrice}) => {\n    return {\n        items,\n        totalPrice\n    }\n},\n\nmapDispatchToProps = {\n    delFromCart,\n    changeCount\n};\n\nexport default WithRestoService()(connect(mapStateToProps, mapDispatchToProps)(CartTable));","import CartTable from './cart-table';\n\nexport default CartTable;","import React from 'react';\nimport CartTable from '../cart-table';\n\nconst CartPage = () => {\n    return (\n        <div className=\"cart\"> \n            <CartTable/>\n        </div>\n    )\n}\n\nexport default CartPage;","import React, {Component} from 'react';\nimport { connect } from 'react-redux';\nimport WithRestoService from '../hoc';\nimport Spinner from '../spinner';\nimport {menuLoaded, menuRequested, menuRejected, addedToCart} from '../../actions';\n\nimport './item-page.css';\n\nclass ItemPage extends Component {\n\n    componentDidMount() {\n        if( this.props.menuItems.length === 0){\n            this.props.menuRequested();\n\n            const {RestoService} = this.props;\n            RestoService.getMenuItems()\n                .then(res => this.props.menuLoaded(res))\n                .catch(error => this.props.menuRejected());\n        }\n    }\n\n    render() {\n        if(this.props.loading) {\n            return (\n                <div className = \"item_page\">\n                    <Spinner/>\n                </div>\n            )\n        }\n        const item = this.props.menuItems.find(el => +el.id === +this.props.match.params.id)\n        const{title, url, category, price, id} = item;\n\n        return (\n            <div className = \"item_page\">\n                <div className=\"menu__item item_block\">\n                     <div className=\"menu__title\">{title}</div>\n                    <img className=\"menu__img\" src={url} alt={title}></img>\n                    <div className=\"menu__category\">Category: <span>{category}</span></div>\n                    <div className=\"menu__price\">Price: <span>{price}$</span></div>\n                    <button  onClick={()=> this.props.addedToCart(id)}  className=\"menu__btn\">Add to cart</button>\n                    <span className = {`menu__category_Img ${category}`}></span> \n                </div>\n            </div>\n        );\n    }\n};\n\nconst mapStateToProps =  (state) =>{\n    return {\n        menuItems: state.menu,\n        loading: state.loading,\n        error: state.error\n    }\n};\n\nconst mapDispatchToProps = {\n    menuLoaded: menuLoaded,\n    menuRequested,\n    menuRejected,\n    addedToCart\n};\n export default WithRestoService ()( connect(mapStateToProps, mapDispatchToProps)(ItemPage) );\n","import AppHeader from './app-header';\n\nexport default AppHeader;","import React from 'react';\nimport cartIcon from './shopping-cart-solid.svg';\nimport './app-header.scss';\nimport {Link} from 'react-router-dom';\nimport { connect } from 'react-redux';\n\nconst AppHeader = ({totalPrice}) => {\n    return (\n        <header className=\"header\">\n            <Link to={'/simple-restaurant-app/'} className=\"header__link\">\n                Menu\n            </Link>\n            <Link to = \"/simple-restaurant-app/cart\" className=\"header__link\">\n                <img className=\"header__cart\" src={cartIcon} alt=\"cart\"></img>\n                Total: {totalPrice} $\n            </Link>\n        </header>\n    )\n};\n\nconst mapStateToProps = ({totalPrice}) => {\n    return {\n        totalPrice\n    }\n};\nexport default connect(mapStateToProps)(AppHeader);","import App from './app';\n\nexport default App;","import React from 'react';\nimport {MainPage, CartPage, ItemPage} from '../pages';\nimport AppHeader from '../app-header';\nimport Background from './food-bg.jpg';\nimport {Route, Switch} from 'react-router-dom';\n\nconst App = () => {\n   \n    return (\n        <div style={{background: `url(${Background}) center center/cover no-repeat`}} className=\"app\">\n            <AppHeader/>\n                <Switch>\n                    <Route path='/simple-restaurant-app/' exact component={MainPage}/>\n                    <Route path='/simple-restaurant-app/cart' component={CartPage}/>\n                    <Route path = '/simple-restaurant-app/:id' component ={ItemPage}/>\n                    {/* <Route exact component={MainPage}/> */}\n                </Switch>\n             \n            \n        </div>\n    )\n}\n\nexport default App;","import Error from './error';\n\nexport default Error;","import React from 'react';\n\nconst Error = () => {\n    return <div className=\"error\">Error</div>\n}\n\nexport default Error;","import React, {Component} from 'react';\nimport { connect } from 'react-redux';\nimport Error from '../error';\nimport {menuRejected} from '../../actions';\n\n\nclass ErrorBoundry extends Component {\n\n    componentDidCatch() {\n        this.props.menuRejected();\n    }\n    render() {\n        const {error} = this.props;\n        if (error) {\n            return <Error/>\n        }\n        //если всё хорошо\n        return this.props.children;\n    }\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        menuItems: state.menu,\n        loading: state.loading,\n        error: state.error\n    }\n};\nconst mapDispatchToProps =  {\n    menuRejected\n};\n\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ErrorBoundry);","import ErrorBoundry from './error-boundry';\n\nexport default ErrorBoundry;","const initialState = {\n    menu: [],\n    items: [],\n    totalPrice: 0,\n    loading: true,\n    error: false\n}\nconst reducer = (state = initialState, action) => {\n    switch (action.type) {\n        case 'MENU_LOADED':\n            return {\n                ...state,\n                menu: action.payload,\n                loading: false,\n            };\n        case 'MENU_REQUESTED':\n            return {\n                ...state,\n                loading: true,\n            };\n        case 'MENU_REJECTED':\n            return {\n                ...state,\n                error: true\n        };\n        case 'ITEM_ADD_TO_CART':\n            const id = action.payload;\n            \n            const itemIdx = state.items.findIndex(item => item.id === id);\n              if (itemIdx >= 0) {\n                const itemInState = state.items.find(item => item.id === id);\n                const newItem = {\n                    ...itemInState,\n                    qtty: ++itemInState.qtty\n                };\n                return {\n                    ...state,\n                    items: [\n                        ...state.items.slice(0, itemIdx),\n                        newItem,\n                        ...state.items.slice(itemIdx +1)\n                    ],\n                    totalPrice: state.totalPrice + newItem.price\n                }\n                \n              } else {\n                const item = state.menu.find(item => item.id === id);\n                const newItem = {\n                    title: item.title,\n                    price: item.price,\n                    url: item.url,\n                    id: item.id,\n                    qtty: 1\n                };\n                return {\n                    ...state,\n                    items: [\n                        ...state.items,\n                        newItem\n                    ],\n                    totalPrice: state.totalPrice + newItem.price\n                };\n              }\n\n           \n\n           \n\n        case 'ITEM_REMOVE_FROM_CART': \n            const idx = action.payload,\n             itemIndex = state.items.findIndex(item => item.id === idx),\n             price = state.items[itemIndex]['price'] * state.items[itemIndex]['qtty'];\n            return {\n                ...state,\n                items: [\n                    ...state.items.slice(0, itemIndex),\n                    ...state.items.slice(itemIndex + 1)\n                ],\n                totalPrice: state.totalPrice - price\n            }\n\n        case 'ITEM_CHANGE_COUNT':\n            const target = action.event.target,\n            targetId = action.payload;\n            \n            if (target.classList.contains('counter-button')) {\n                const itemInState = state.items.find(item => item.id === targetId),\n                targetIdx = state.items.findIndex(item => item.id === targetId),\n                price = state.items[targetIdx]['price'] * state.items[targetIdx]['qtty'];\n                if (target.classList.contains('counter-minus')) {\n                    const newItem = {\n                        ...itemInState,\n                        qtty: --itemInState.qtty\n                    };\n                    if (newItem.qtty === 0) {\n                        return {\n                            ...state,\n                            items: [\n                                ...state.items.slice(0, targetIdx),\n                                ...state.items.slice(targetIdx + 1)\n                            ],\n                            totalPrice: state.totalPrice - price\n                        }\n                    }\n                    return {\n                        ...state,\n                        items: [\n                            ...state.items.slice(0, targetIdx),\n                            newItem,\n                            ...state.items.slice(targetIdx +1)\n                        ],\n                        totalPrice: state.totalPrice - newItem.price\n                    }\n                \n                }\n                if (target.classList.contains('counter-plus')) {\n                    const newItem = {\n                        ...itemInState,\n                        qtty: ++itemInState.qtty\n                    };\n                    return {\n                        ...state,\n                        items: [\n                            ...state.items.slice(0, targetIdx),\n                            newItem,\n                            ...state.items.slice(targetIdx +1)\n                        ],\n                        totalPrice: state.totalPrice + newItem.price\n                    }\n                }\n               \n            }\n            return state;\n        default:\n            return state;\n    }\n}\n\nexport default reducer;","import {createStore} from 'redux';\nimport reducer from './reducers';\n\n\nconst store = createStore(reducer);\n\nexport default store;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/app';\nimport {Provider} from 'react-redux';\nimport {BrowserRouter as Router} from 'react-router-dom';\nimport ErrorBoundry from './components/error-boundry';\nimport RestoService from './services/resto-service';\nimport RestoServiceContext from './components/resto-service-context';\nimport store from './store';\n\n\nimport './index.scss';\n\nconst restoService = new RestoService();\n\nReactDOM.render(\n    <Provider store={store}>\n        <ErrorBoundry>\n            <RestoServiceContext.Provider value={restoService}>\n                <Router>\n                    <App/>\n                </Router>\n            </RestoServiceContext.Provider>\n        </ErrorBoundry>\n    </Provider>\n    , document.getElementById('root'));\n\n","export default class RestoService {\n    constructor() {\n        this._dataBase = 'https://my-json-server.typicode.com/IlyaErshovDev/resto-db';\n    }\n    getResource = async (url) => {\n        const res = await fetch(`${this._dataBase}${url}`);\n    \n        if(!res.ok) {\n            throw new Error(`Could not fetch ${url}, status: ${res.status}`);\n        }\n        return await res.json();\n    };\n    getMenuItems = async () => {\n        return await this.getResource('/menu/');\n    };\n\n    setOrder = async (orderData) => {\n        const ordNumber = await this.getOrderNum(),\n        newOrder = {\n            id: ordNumber,\n            order: orderData\n        },\n        response = await fetch(`${this._dataBase}/orders`, {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json;charset=utf-8'\n            },\n            body: JSON.stringify(newOrder)\n        });\n        if (!response.ok) {\n            throw new Error ('failed to response JSON DB')\n        }\n        console.log(`status: ${response.status}, data: ${ JSON.stringify(newOrder)}`);\n    };\n\n    getOrderNum = async () => {\n            const res = await this.getResource('/orders/');\n            return ++res.length;\n    } \n}"],"sourceRoot":""}